{% import "macros/media.html" as media %}
 {% set data = load_data(path=data_path) %}

<div class="container-escape  flex flex-wrap {% if color %}text-{{color}}{% endif %} {% if bg %}bg-{{bg}}{% endif %}">
    {% if title %}
        <h3 class="uppercase text-sm font-bold mb-12 w-full ">{{title}}</h3>
    {% endif %}
    {%- for card in data.card %}
    <div class="text-left px-1 my-1 w-full md:w-1/3 lg:w-1/4  ">
        <div class="p-3 lg:p-8 pb-5 lg:pb-10 h-full flex flex-col {% if card_bg %}bg-{{card_bg}}{%endif%}">
        {% if image_path %} 
            {% if card.image %}
            {{-
      media::picture_fill_square(
        img=image_path ~ card.image,
        widths=[320, 640],
        class="rounded-full mt-auto mx-auto",
        attrs="width='320' height='320'"
      )
            }} 
            {%- endif %}
        {% endif %}
            {% if card.title %}
            <div class="text-lg text-semibold leading-none text-balance mb-8 {%if title_color%}text-{{title_color}}{% endif %}">
                {{ card.title }}
            </div>
            {% endif %}
              {% if card.description %}
            <div class="text-sm ">
                {{ card.description }}
            </div>
            {% endif %}
       
            
        </div>
    </div>
    {% endfor -%}
</div>
